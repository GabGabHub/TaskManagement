from mongo import task_collection


def convertTask(task) -> dict:
    return {
        "id": str(task["_id"]),
        "title": task["title"],
        "description": task["description"],
        "status": task["status"],
        "priority": task["priority"],
        "assignedTo": task.get("assignedTo"),
        "createdAt": task.get("createdAt"),
        "assignedAt": task.get("assignedAt"),
        "completedAt": task.get("completedAt")
    }

def get_tasks():
    tasks = []
    for task in task_collection.find():
        tasks.append(convertTask(task))

    print(tasks)
    return tasks

get_tasks()